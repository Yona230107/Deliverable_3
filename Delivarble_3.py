# part 2 # prelimenary steps , Annalysing our data. #aimport pandas as pd import seaborn as sns data=pd.read_csv("StudentsPerformance.csv")print("THe code begins here:")# this code is to help us  know where our code starts in the output instead  of looking fo the results in the outpout pannel afteer runnig it multiple timesprint("This is heads")print(data.head(5))# This line of code prints the first five rows with all the variable.print("This is info about the dataset:",data.info)# this line of code give us information about the dataset, such as the number of collums and the number of rows. print("This is shape of the dataeset:",data.shape)# this function simply give sthe amount of collumn and amount of linesprint("This is describe:", data.describe())# this line of code, gives further infromation aboy the data, in fact, for each quantative variable , it gave the sd, the meann , the questile, the min and the max. #b # managing the duplicates # using this datset, we do not need to drop the dupliactes, just because we our analyzing 1000 diffrent students( even though they might have the same caracteristocs, we still want to analyze each student seperatly) #cprint("This is the maount of null values:",data.isnull().sum())# Thsi code indicates that we have zero null valuesin our datset, therefore we can move on to the next step. #d all our data is in the correct format, so no need to change the data set #part 3 # this part takes ecah numerical variable bin a loop. The stament data.select_dtype, selects the column that include number. numerical_data = data.select_dtypes(include='number')  for column in numerical_data.columns:    print("The variable being analyzed:", column)    print("Mean:", numerical_data[column].mean())    print("Median:", numerical_data[column].median())    print("Mode:", numerical_data[column].mode()[0])    print("Standard Deviation:", numerical_data[column].std())    print("Variance:", numerical_data[column].var())    print("Skewness:", numerical_data[column].skew())    print("Kurtosis:", numerical_data[column].kurt())    print("Quartiles:\n", numerical_data[column].quantile([0.25, 0.5, 0.75]))# this print each numerical values and give the mean , mode, sdt, skenwees, etc.# This part takes each categorical value in a loop. The statemnet "data.select_dtypes(include='object')" selects the colum that includes object, categorical data. print("this is info about the categorical data:\n")categorical_data= data.select_dtypes(include='object')for column in categorical_data.columns:    print("the column that is analysed:", column)    print("the number of times this values appears in each column(the frequency):", categorical_data[column].value_counts())    print("The most frequent category that appears in the column the most:", categorical_data[column].mode([0]))    print("the proportion, the perecentge if each category relative to the total of the column:",categorical_data[column].value_counts(normalize=True))    print(" The amount unique categories in the column:", categorical_data[column].nunique()) # This part takes each categorical value in a loop. The statemnet "data.select_dtypes(include='object')" selects the colum that includes object, categorical data.  # each line takes a seprate functions and calculates further infromation taht allows to understand our data more  # part 4a#Univariate graphical EDA# Let's try to visualize the distribution of math socres by using cutomized bins. # MATH SCORES #asns.displot(    data=data,    x="math score",    hue="gender",    multiple="dodge",    bins=[10,20,30,40,50,60,70,80,90,100],    stat="density",    kde=True)# this code includes the fetaures, conditions , customized bins, normalized and kde.#bsns.displot(     data=data,     x="math score",     hue="gender",     multiple="stack") # second plot for math scores# this plot show the distibution of students of the maths scores according to the gender with kind stack# csns.displot(    data=data,     x="math score",    hue="gender",    kind="ecdf"    )# third plot for math scores# this plot show the distirbution of math scores accroding to the gender in an empirocal cumulative distribution. # READING SCORES#a.sns.displot(    data=data,     x="reading score",    hue="race/ethnicity",    multiple="dodge",    bins=[10,20,30,40,50,60,70,80,90,100],    stat="density",    kde=True)#this PLot shows the distribution of reading scores according to ethnicity,#The bins are customized #colors= gender #bsns.displot(    data=data,    x="reading score",    hue="race/ethnicity",    multiple="stack")# Similar to a, just changed the feature to stack for better understanding #csns.displot(    data=data,    x="reading score",    hue="race/ethnicity",    kind="ecdf")# This plot show the distibution  in ecdf of the reading scores according to the race. # WRITTING SCORES#asns.displot(    data=data,    x="writing score",   hue="parental level of education",   multiple="dodge",   bins=[10,20,30,40,50,60,70,80,90,100],   stat="density",   kde=True)# this distibution of writing scores according to parental level of eductaion respecting multiple conditions. #bsns.displot (    data=data,    x="writing score",    hue="parental level of education",    multiple="stack")#Similar to a) just changed the feature  to stack#csns.displot(    data=data,    x="writing score",    hue="parental level of education",    kind="ecdf")# this dsitribution represents the distribution of writing scores according to parental level of education in kind ecdf. #4b # this part is analyzing, will be found on the pdf submitted.# part 5#5a # the crosstab between gender and parental level of educationprint("This is the crossatab 1:")crosstab_1=pd.crosstab(data['gender'], data['parental level of education'])pd.set_option('display.max_columns', None)print(crosstab_1)# the display.max_columns', None, is to show all the collumns and not 3 dots.# the crosstab between ethnicity and test preparation courseprint("This is crosstab 2:")crosstab_2=pd.crosstab(data['race/ethnicity'], data['test preparation course'])print(crosstab_2)# the crosstab between the math score and the lunch print("This is crosstab_3:")crosstab_3=pd.crosstab(data["math score"],data["lunch"])pd.set_option('display.max_columns', None)print(pd.concat([crosstab_3.head(7), crosstab_3.tail(7)]))# the concat function was used to show the first 7 and last 7 rows of crosstab_3 together, so we can see the start and end of the table without printing the whole thing.#5b# using proportions insted of rows # the crosstab between gender and parental level of educationprint("This is the proportion 1:")proportion_1=pd.crosstab(data['gender'], data['parental level of education'], normalize=True)print(proportion_1)# the crosstab between ethnicity and test preparation courseprint("This is the proportion 2:")proportion_2=pd.crosstab(data['race/ethnicity'], data['test preparation course'], normalize=True)print(proportion_2)# the crosstab  between the math score and the lunch print("This is the  proportion 3:")proportion_3=pd.crosstab(data["math score"],data["lunch"], normalize=True)pd.set_option('display.max_columns', None)print(pd.concat([proportion_3.head(7), proportion_3.tail(7)]))print(proportion_3)# this is a normalized crosstab, in order to have the proportion # beacause there are so many grades we chose to display only 14, the first and last 7.#5c# The frequency table print("this is the frequenct table:")frequency_table=pd.crosstab([data["gender"],data["parental level of education"]], data["lunch"]) print(frequency_table)# This piece of code creates a  3 way frequency table by crossing gender, parental level of education and the lunch. #6.1 Visualizing statistical data #6.1a) # 6.1a "Faceted scatter: math vs reading, by race, colored by genderg = sns.relplot(    data=data,    x="math score",    y="reading score",    hue="gender",    col="race/ethnicity",    kind="scatter")#this plot creates multiple subplots# It plots a scatter plot that explores the relationship between the math scores and reading scores, per gender, per race/ethnicity.#6.1 b)# 6.1b  Five variables: x, y, hue, size, colg = sns.relplot(    data=data,    x="math score",    y="reading score",    hue="gender",    size="writing score",          col="race/ethnicity",    kind="scatter",    )# the 5 diffrent variable are math score, reading score, gender, race and writing scores.#6.1c" Line plot: average reading vs math score, by gender#data_61c = data.groupby(["math score", "gender"], as_index=False)["reading score"].mean()ax = sns.relplot(    data=data,    x="math score",    y="reading score",    hue="gender",    marker="o",    kind="line")# This piece of code groups the dataset by math score and gender, and then calculates the average reading score for each math score/gender combination.# this grouping is necessary because it allows us to see the trend and have a clearer graph then when if we had 1000 point.#  then  it creates a line plot showing how  average reading and math scores relate for each gender.#6.1d# 6.1d ” Line plot with standard deviation band"ax = sns.relplot(    data=data,    x="math score",    y="reading score",    hue="gender",    errorbar="sd" ,     kind="line", )   # this code creates a line plot, similar to the one in d, but this time, representing standard deviation.#6.1 e # 6.1e ” Linear regression: math vs writing, by genderg = sns.lmplot(    data=data,    x="math score",    y="writing score",    hue="gender",)ax=sns.regplot(    data=data,    x="math score",    y="writing score")#This graph illustrates the regreesion between math scores, writing scores and gender,(for some reason , the graph looks a bit weird)#6.2 Visulaizing #6.2a # 6.2a ” Stripplot with jitter ONax = sns.stripplot(    data=data,    x="race/ethnicity",    y="math score",    hue="gender",    jitter=True,    dodge=True,    alpha=0.7)#works#6.2 b# 6.2b ” Stripplot with jitter OFFax = sns.catplot(    data=data,    x="race/ethnicity",    y="math score",    hue="gender",    jitter=False,    dodge=True,    alpha=0.7,    kind="strip")#our code creates a plot that shows every student’s math score for each race/ethnicity group, while also showing whether they are male or female.#The dots are  separated by gender so we can compare them clearly.# 6.2c ” Beeswarm (swarmplot): x=category, y=score, hue=gendersns.catplot(    data=data,    x="race/ethnicity",    y="math score",    hue="gender",    kind="swarm",    dodge=True)# This code makes a plot that shows every student’s math score, organized by race/ethnicity, and split by gender.#The swarm plot spreads the dots out so none of them overlap which makes  the pattern clearer.# 6.2d ” Boxplot: x=category, y=score, hue=genderax = sns.catplot(    data=data,    x="race/ethnicity",    y="math score",    hue="gender",    kind="box")# this is these represent the same variables than the previous one but in a diffrent format to help us further undertstand the correlations. # 6.2e ” Boxenplot: better view of distribution shapeax = sns.catplot(    data=data,    x="race/ethnicity",    y="math score",    hue="gender",    kind="boxen"   # this replaces sns.boxenplot beacuse it gave something weird. )#This boxen plot shows how math scores are spread out for each race/ethnicity, separated by gender. # 6.2f ” Split violin: x=category, y=score, split by genderax = sns.catplot(    data=data,    x="race/ethnicity",    y="math score",    hue="gender",    kind="violin",    split=True,    bw=0.5,    inner="quartile")# This violin plot shows how math scores are spread out for each race/ethnicity, with boys and girls on each side. #The shape shows where most scores are, and the lines inside show the quartiles# 6.2g ” Violin + scatter points inside# base violin (no inner bars)ax=sns.catplot(    data=data,    x="race/ethnicity",    y="math score",    kind="violin",    inner=None,    color="lightgray")# overlay individual pointssns.stripplot(    data=data,    x="race/ethnicity",    y="math score",    hue="gender",    dodge=True,    alpha=0.6,    size=2)# This code first makes gray violin plots to show the overall spread of math scores for each race/ethnicity.#Then it adds individual points on top, separated by gender, so we can see each student’s score.# so the result shows both the overall distribution and the exact data points at the same time.# it also takes a smaller size for the points# 6.2h ” Barplot with 97% CIax = sns.catplot(    data=data,    x="race/ethnicity",    y="math score",    hue="gender",    ci=97,    kind="bar")# this piece of code makes a bar plot showing the average math score for each race/ethnicity, with the bars separated by gender. #The bars represent the mean, and the  error bars show how much the scores vary.# 6.2i ” Pointplot with 90% CI and dashed linesax = sns.catplot(    data=data,    x="race/ethnicity",    y="math score",    hue="gender",    ci=90,    linestyles="--",    dodge=True,    kind="point")# This plot shows the average math score for each race/ethnicity, split by gender.# The vertical lines show how much the scores vary# the dashed lines connect the points so you can see the trend for each gender.# 6.2j ” Countplot: number of students in each categoryax = sns.catplot(    data=data,    x="race/ethnicity",    hue="gender",    kind="count")# this is  the Countplot: Number of Students by Race/Ethnicity and Gender#This plot counts the number of students in each race/ethnicity group and shows the totals for boys and girls separately.#6.3 #6.3aax = sns.displot(    data=data,    x="math score",    y="reading score",    kind="hist",         bins=30,             cbar=True        # color bar)# this is a heatmap of math scores vs reading scores, with customized bins =30 and a color map.#6.3 bax = sns.displot(    data=data,    x="math score",    y="reading score",    kind="kde",    levels=10,    fill=False)# this is a kernel bivurate plot of reading scores vs math scores. # it takes 10 contour lines# it doesnt fill it # 6.3c ” KDE heatmap by gender: math vs readingax=sns.displot(    data=data,    x="math score",    y="reading score",    hue="gender",    kind="kde",    fill=True,    levels=30)# this is the heatmap representing the following 3 variables: math scores, reading scores and gender. # it drwas 30 density level to give a a smoother map 